# KPI — Кейс 7
Версия: 0.1 (черновик)

#KPI 1: Утилизация расписания
| Параметр | Значение |
|----------|----------|
| **Формула** | `utilization = slots_booked / slots_total * 100%` |
| **Целевое значение** | ≥ 70% |
| **Период расчёта** | День / Неделя |
| **Источник** | work_slots, appointments |
| **Метод валидации** | Тест на наборе T1 (100/70 слотов) |

#KPI 2: Время отклика отчёта
| Параметр | Значение |
|----------|----------|
| **Формула** | Время от нажатия «Сформировать» до вывода данных |
| **Целевое значение** | ≤ 3 секунд |
| **Условия** | ≥100 слотов, фильтры применены |
| **Метод проверки** | Ручной замер, лог времени |

#KPI 3: Доля двойных бронирований
| Параметр | Значение |
|----------|----------|
| **Формула** | `double_booking_rate = conflicts / total_bookings` |
| **Целевое значение** | 0% |
| **Метод проверки** | Автоматическая валидация при записи |

#KPI 4: Полнота валидаций
| Параметр | Значение |
|----------|----------|
| **Метрика** | % прошедших валидацию записей |
| **Целевое значение** | ≥ 95% |
| **Правила валидации (5 шт.)** | 1. Слот принадлежит врачу<br>2. Слот внутри рабочего времени<br>3. Слот не в перерыв<br>4. Нет активной записи на слот<br>5. Статус ∈ {booked, canceled, completed} |

## Таблица тестовых наборов
| Набор | Слоты | Записи | Цель |
|-------|-------|--------|------|
| T1 | 100 | 70 | Утилизация 70% |
| T2 | 100 | 85 | Утилизация 85% |
| T3 | 50 | 30 | Нагрузочный тест |
